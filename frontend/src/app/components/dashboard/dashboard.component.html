<!-- TaskFlow Admin Dashboard -->
<div class="dashboard-container">
  <!-- Left Sidebar Navigation -->
  <nav class="sidebar" [class.collapsed]="sidebarCollapsed">
    <div class="sidebar-header">
      <div class="logo-container">
        <div class="logo-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
        </div>
        <span class="logo-text" *ngIf="!sidebarCollapsed">TaskFlow</span>
      </div>
    </div>
    
    <div class="sidebar-nav">
      <a class="nav-item active" (click)="setActiveTab('dashboard')">
        <mat-icon>dashboard</mat-icon>
        <span *ngIf="!sidebarCollapsed">Dashboard</span>
      </a>
      <a class="nav-item" (click)="setActiveTab('projects')">
        <mat-icon>folder</mat-icon>
        <span *ngIf="!sidebarCollapsed">Projects</span>
      </a>
      <a class="nav-item" (click)="setActiveTab('tasks')">
        <mat-icon>task</mat-icon>
        <span *ngIf="!sidebarCollapsed">Tasks</span>
      </a>
      <a class="nav-item" (click)="setActiveTab('reports')">
        <mat-icon>bar_chart</mat-icon>
        <span *ngIf="!sidebarCollapsed">Reports</span>
      </a>
      <a class="nav-item" (click)="setActiveTab('team')">
        <mat-icon>group</mat-icon>
        <span *ngIf="!sidebarCollapsed">Team</span>
      </a>
      <a class="nav-item" (click)="setActiveTab('settings')">
        <mat-icon>settings</mat-icon>
        <span *ngIf="!sidebarCollapsed">Settings</span>
      </a>
    </div>
    
    <div class="sidebar-footer">
      <button class="collapse-btn" (click)="toggleSidebar()">
        <mat-icon>{{ sidebarCollapsed ? 'chevron_right' : 'chevron_left' }}</mat-icon>
      </button>
    </div>
  </nav>

  <!-- Main Content Area -->
  <main class="main-content" [class.sidebar-collapsed]="sidebarCollapsed">
    <!-- Top Header -->
    <header class="header">
      <div class="search-container">
        <mat-icon class="search-icon">search</mat-icon>
        <input 
          type="text" 
          class="search-input" 
          placeholder="Search projects, tasks, or team members..."
          [(ngModel)]="searchQuery"
          (input)="onSearch()"
        >
      </div>
      
      <div class="header-actions">
        <button class="notification-btn" (click)="showNotifications()">
          <mat-icon>notifications</mat-icon>
          <span class="notification-dot" *ngIf="hasNotifications"></span>
        </button>
        
        <div class="user-profile">
          <div class="avatar">
            <mat-icon>person</mat-icon>
          </div>
          <div class="user-info" *ngIf="currentUser">
            <div class="user-name">{{ currentUser.name }}</div>
            <div class="user-role-tag admin">{{ currentUser.role }}</div>
          </div>
        </div>
      </div>
    </header>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button class="action-btn add-user-btn" (click)="addUser()">
        <mat-icon>person_add</mat-icon>
        <span>+ Add User</span>
      </button>
      <button class="action-btn new-project-btn" (click)="newProject()">
        <mat-icon>add</mat-icon>
        <span>+ New Project</span>
      </button>
    </div>

    <!-- Dashboard Content -->
    <div class="dashboard-content">
      <!-- Loading State -->
      <div class="loading-container" *ngIf="loading">
        <mat-spinner diameter="50"></mat-spinner>
        <p>Loading dashboard...</p>
      </div>

      <!-- Dashboard Content -->
      <div class="content-area" *ngIf="!loading">
        <!-- System Overview Section -->
        <div class="system-overview-section">
          <div class="section-header">
            <h1 class="main-title">System Overview</h1>
            <p class="main-subtitle">Complete administrative control and system insights</p>
          </div>
          
          <!-- Summary Cards -->
          <div class="summary-cards">
            <div class="summary-card total-users">
              <div class="card-content">
                <div class="card-icon">
                  <mat-icon>group</mat-icon>
                </div>
                <div class="card-info">
                  <h3 class="card-title">Total Users</h3>
                  <div class="card-value">247</div>
                  <div class="card-trend">
                    <span>+12 from last month</span>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="summary-card active-projects">
              <div class="card-content">
                <div class="card-icon">
                  <mat-icon>folder</mat-icon>
                </div>
                <div class="card-info">
                  <h3 class="card-title">Active Projects</h3>
                  <div class="card-value">34</div>
                  <div class="card-trend">
                    <span>+3 from last month</span>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="summary-card tasks-completed">
              <div class="card-content">
                <div class="card-icon">
                  <mat-icon>check_circle</mat-icon>
                </div>
                <div class="card-info">
                  <h3 class="card-title">Tasks Completed</h3>
                  <div class="card-value">1,847</div>
                  <div class="card-trend">
                    <span>+127 this week</span>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="summary-card system-health">
              <div class="card-content">
                <div class="card-icon">
                  <mat-icon>trending_up</mat-icon>
                </div>
                <div class="card-info">
                  <h3 class="card-title">System Health</h3>
                  <div class="card-value">98.7%</div>
                  <div class="card-trend positive">
                    <span>Excellent uptime</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Project Portfolio Section -->
        <div class="project-portfolio-section">
          <div class="section-header">
            <div class="header-content">
              <h2 class="section-title">Project Portfolio</h2>
              <p class="section-subtitle">Manage all company projects and resources</p>
            </div>
            <button class="view-analytics-btn" (click)="viewAnalytics()">
              <mat-icon>bar_chart</mat-icon>
              <span>View Analytics</span>
            </button>
          </div>
          
          <div class="project-list">
            <div class="project-item" *ngFor="let project of adminProjects">
              <div class="project-info">
                <div class="project-header">
                  <h3 class="project-name">{{ project.name }}</h3>
                  <span class="priority-badge" [class]="project.priority.toLowerCase()">{{ project.priority }}</span>
                </div>
                <div class="project-meta">
                  <div class="meta-item">
                    <mat-icon>group</mat-icon>
                    <span>{{ project.members }} members</span>
                  </div>
                  <div class="meta-item">
                    <mat-icon>schedule</mat-icon>
                    <span>Due {{ project.dueDate }}</span>
                  </div>
                </div>
                <div class="project-status">
                  <span class="status-text">{{ project.status }}</span>
                  <div class="project-progress">
                    <div class="progress-bar">
                      <div class="progress-fill" [style.width.%]="project.progress"></div>
                    </div>
                    <span class="progress-text">{{ project.progress }}%</span>
                  </div>
                </div>
              </div>
              <button class="more-options-btn" (click)="showProjectOptions(project)">
                <mat-icon>more_vert</mat-icon>
              </button>
            </div>
          </div>
        </div>

        <!-- Team Overview Section -->
        <div class="team-overview-section">
          <div class="section-header">
            <div class="header-content">
              <h2 class="section-title">Team Overview</h2>
              <p class="section-subtitle">User roles and permissions</p>
            </div>
            <button class="settings-btn" (click)="manageTeamSettings()">
              <mat-icon>settings</mat-icon>
            </button>
          </div>
          
          <div class="team-stats">
            <div class="stat-item">
              <div class="stat-value">8</div>
              <div class="stat-label">Admins</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">45</div>
              <div class="stat-label">Managers</div>
            </div>
            <div class="stat-item">
              <div class="stat-value">194</div>
              <div class="stat-label">Users</div>
            </div>
          </div>
          
          <div class="recent-activity">
            <h3 class="activity-title">Recent Activity</h3>
            <div class="activity-list">
              <div class="activity-item" *ngFor="let activity of recentActivities">
                <div class="activity-avatar">
                  <span class="avatar-text">{{ activity.avatar }}</span>
                </div>
                <div class="activity-content">
                  <div class="activity-user">{{ activity.user }}</div>
                  <div class="activity-action">{{ activity.action }}</div>
                  <div class="activity-meta">
                    <span class="activity-role">{{ activity.role }}</span>
                    <span class="activity-time">{{ activity.time }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- System Alerts Section -->
        <div class="system-alerts-section">
          <div class="alert-card">
            <div class="alert-icon">
              <mat-icon>warning</mat-icon>
            </div>
            <div class="alert-content">
              <h3 class="alert-title">System Alerts & Notifications</h3>
              <p class="alert-description">Important system events requiring attention</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>


